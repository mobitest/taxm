<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>企业资料</title>
	<link rel="stylesheet"  href="../demos/css/themes/default/jquery.mobile-1.3.1.min.css">
	<link rel="stylesheet" href="../demos/_assets/css/jqm-demos.css">
	<link rel="shortcut icon" href="../demos/favicon.ico">

	<link rel="stylesheet" href="t1-welcome.css">
	<link rel="stylesheet" href="info.css">
	
	<style>
		#d5.mytitle{
		position: relative;
		top: 25px;
		left: 10px;
		border-bottom: 2px solid #08c;
		float: left;
		font-weight: 800;
		font-size: 18px;
		}
		.ui-grid-a.ui-responsive span {
    font-weight: 800;
    font-size: 14px;
}
	</style>
	
	<script src="../demos/js/jquery.js"></script>
	<script src="../demos/_assets/js/index.js"></script>
	<script src="../demos/js/jquery.mobile-1.3.1.min.js"></script>
<!--
        		["d1"/*	基本资料*/	:"TNsrjbxx"   ,	
            "d2"/*	核定信息*/	:"TNsrhdqk"   ,
            "d3"/*	申报情况*/	:"TNsrsbqk"   ,
            "d4"/*	缴税情况*/	:"TNsrnsqk"   ,
            "d5"/*	发票购置*/	:"TNsrfpgzqk" ,
            "d6"/*	社保缴纳*/	:"TSbfjfqk"   ],
-->
	
	<script>

		$(document).ready(function(){
		
			//动态生成页面
			dynamicLoad(2390);
		});
		
		//入口：取数据，并调用页面生成器，生成页面
		function dynamicLoad(id){
				$.ajax({url: "sample-TNsrjbxx.json",					
						dataType:"json",
						data:{"id":id},
						success:PageBuilder.do,
						error: function(XMLHttpRequest, textStatus, errorThrown){ 
	            alert('error:'+errorThrown); 
	       		}

					});
				}

				/*页面生成器 BY takeashower*/
			PageBuilder={
				_data:null,
				/*数据*/

				d5pop:function(d){
	        var head= '<div id="d4" class="datanode gen"> <ul data-role="listview" data-inset="true">'+
  	      '<li data-role="list-divider">基本信息</li>'+
    	   
      	  '</ul></div>'
        	$('.ui-content').append(head);
        	var lv = $("#d4.gen>ul");
       		var date1=new Date();
					//遍历该节点下的记录
					$.each(d,function(i, entry){
					//处理单条纳税记录的生成
	
						var t =
						' <li> <fieldset class="ui-grid-a.ui-responsive"> '+
						"<li data-role='fieldcontain'><label for='name2'>纳税人名称：</label><span type='text'>"+ entry.nsrMc	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>纳税人编码：</label><span type='text'>"+ entry.nsrbm	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>注册地址：</label><span type='text'>"+ entry.zcDz	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>生产经营地址：</label><span type='text'>"+ entry.sjjyDz	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>注册类型：</label><span type='text'>"+ entry.zclx	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>所处街道：</label><span type='text'>"+ entry.xzjd	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>信誉等级：</label><span type='text'>"+ entry.xydjjb	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>法定代表人：</label><span type='text'>"+ entry.fddbrMc	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>联系电话：</label><span type='text'>"+ entry.lxdhDh	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>法人手机号码：</label><span type='text'>"+ entry.frsjhm	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>财务负责人：</label><span type='text'>"+ entry.cwfzrMc	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>办税员姓名：</label><span type='text'>"+ entry.bsyMc	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>控股类型：</label><span type='text'>"+ entry.kglx	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>税务登记：</label><span type='text'>"+ entry.swdjlb	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>税务登记证号：</label><span type='text'>"+ entry.swdjzh	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>登记状态：</label><span type='text'>"+ entry.djzt	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>隶属关系：</label><span type='text'>"+ entry.lsgx	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>行业：</label><span type='text'>"+ entry.hy	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>管理机关：</label><span type='text'>"+ entry.gljg	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>登记机关：</label><span type='text'>"+ entry.djjg	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>专管员：</label><span type='text'>"+ entry.zgy	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>税务登记日期：</label><span type='text'>"+ entry.djRq	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>工商开业时间：</label><span type='text'>"+ entry.yxQsrq	+"</span></li>"+
						"<li data-role='fieldcontain'><label for='name2'>经营范围：</label><span type='text'>"+ entry.jyfwzy+"</span></li>"+

						'</fieldset></li>';

						lv.append(t)
					});//-- each

					lv.listview({ theme: "c" });//.listview("refresh");

				},



				do:function(data){
							//获取值，调用子页生成函数

							PageBuilder.d5pop(data);


				}
			};
	
		
	</script>
</head>
<body>
<div data-role="page" data-theme="c" id="demo-page" class="my-page2">

	<div data-role="header" data-position="fixed" data-tap-toggle="false"> 


		<div data-role="controlgroup" data-type="horizontal">
			<a href="t1-welcome.htm?user=someone" data-role="button" data-icon="logo-taxm" data-iconpos="notext" data-ajax="false">主屏</a>
				<a href="t2-search.htm" data-role="button"  data-ajax="false">一户式查询
        <a href="#left-panel" data-role="button" data-ajax="false" data-icon="bars" data-iconpos="notext">选项</a>

		</div>
		<h1 id="mytitle">演示页（web服务器中才能正常浏览）</h1>
	<a href="javascript:alert('your device is offline...please check it out!')" rel="external" class="ui-btn-right" data-shadow="false" data-iconshadow="false" data-icon="grid" data-iconpos="right" data-ajax="false">联网更新</a>

	</div><!-- /header -->
	

<div data-role="content">
<p id="info">
	<a href="#" data-role="button" data-icon="info" data-iconpos="notext" data-theme="c" data-inline="true">Info</a>
	数据更新：
	<span>2012-01-01 14:00</span>
</p>

              
</div><!-- /content -->
    

</div><!-- /page -->
</body>
</html>
 